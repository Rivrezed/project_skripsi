[gd_scene load_steps=13 format=4 uid="uid://di54eyrr8xw3g"]

[ext_resource type="Script" uid="uid://j5664emulkni" path="res://scenes/enemydamagetest.gd" id="1_ejswk"]
[ext_resource type="Script" uid="uid://cgeyfxu6i0b7u" path="res://script/health.gd" id="2_ru4tf"]
[ext_resource type="PackedScene" uid="uid://dmfh4praqdryj" path="res://scenes/player2.tscn" id="2_wwpf4"]
[ext_resource type="Script" uid="uid://m72no1svtvu" path="res://script/hurtbox.gd" id="3_bbk5w"]
[ext_resource type="PackedScene" uid="uid://diln6iyvvpvpm" path="res://parallax.tscn" id="3_m7ahb"]
[ext_resource type="Texture2D" uid="uid://c7gq4aoc0dr7e" path="res://icon.svg" id="4_dwgg1"]
[ext_resource type="Texture2D" uid="uid://d1qg07b8d327u" path="res://assets/world_tileset.png" id="6_6sh32"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ru4tf"]
size = Vector2(129.047, 129.047)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wwpf4"]
texture = ExtResource("6_6sh32")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
0:7/0 = 0
1:7/0 = 0
3:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
8:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
6:10/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
4:11/0 = 0
5:11/0 = 0
0:12/0 = 0
1:12/0 = 0
2:12/0 = 0
3:12/0 = 0
4:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
3:14/0 = 0
4:14/0 = 0
0:15/0 = 0
1:15/0 = 0
2:15/0 = 0
3:15/0 = 0

[sub_resource type="TileSet" id="TileSet_m7ahb"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_wwpf4")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_wwpf4"]
vertices = PackedVector2Array(169, 299, 677, 283, 809, 283, 505, 327, 357, 327, 837, 327, 837, 391, 757, 391, 505, 363, 809, 247, 933, 247, 933, 327, 169, 263, 677, 247, -32.1719, 662.102, -36.4219, 427, 69, 427, 69, 475, 1340.96, 676.891, 277, 491, 277, 475, 601, 491, 601, 443, 617, 443, 617, 427, 629, 427, 629, 443, 661, 443, 661, 491, 793, 491, 793, 427, 873, 427, 1061, 491, 873, 363, 985, 363, 1045, 395, 985, 283, 1045, 283, 1061, 395, 1209, 455, 1097, 455, 1097, 375, 1339.03, 132.961, 1081, 375, 1081, 247, 757, 455, 697, 455, 697, 407, 665, 407, 665, 391, 581, 391, 581, 407, 565, 407, 565, 455, 297, 455, 297, 439, 357, 363, 105, 439, 105, 375, 53, 375, 53, 391, -7, 391, -7, 375, -37.3594, 375, -41.8125, 128.031, 37, 299, 1209, 491, 37, 263)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(2, 5, 6, 7, 8, 3), PackedInt32Array(2, 9, 10, 11, 5), PackedInt32Array(1, 0, 12, 13), PackedInt32Array(14, 15, 16, 17), PackedInt32Array(18, 14, 17, 19), PackedInt32Array(17, 20, 19), PackedInt32Array(18, 19, 21), PackedInt32Array(21, 22, 23), PackedInt32Array(23, 24, 25, 26), PackedInt32Array(26, 27, 28, 21), PackedInt32Array(18, 29, 30, 31, 32), PackedInt32Array(31, 33, 34, 35, 32), PackedInt32Array(34, 36, 37, 35), PackedInt32Array(35, 38, 32), PackedInt32Array(39, 40, 41, 42), PackedInt32Array(41, 43, 44, 42), PackedInt32Array(7, 45, 46, 47), PackedInt32Array(47, 48, 49, 7), PackedInt32Array(50, 51, 52, 8), PackedInt32Array(8, 52, 53, 54, 55, 56), PackedInt32Array(56, 55, 57, 58, 0, 4), PackedInt32Array(59, 60, 61, 62), PackedInt32Array(62, 63, 64), PackedInt32Array(59, 62, 64, 65), PackedInt32Array(21, 23, 26), PackedInt32Array(18, 21, 28), PackedInt32Array(18, 28, 29), PackedInt32Array(18, 32, 66), PackedInt32Array(42, 18, 66, 39), PackedInt32Array(64, 42, 44, 10), PackedInt32Array(64, 10, 9), PackedInt32Array(64, 9, 13), PackedInt32Array(64, 13, 12, 67), PackedInt32Array(8, 7, 49), PackedInt32Array(8, 49, 50), PackedInt32Array(65, 0, 58, 59), PackedInt32Array(64, 67, 65)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1349, 123, -52, 118, -42, 672, 1351, 687)])
source_geometry_mode = 1
source_geometry_group_name = &"navigation"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m7ahb"]
size = Vector2(46329, 20)

[node name="level1" type="Node2D"]

[node name="EnemyTest" type="CharacterBody2D" parent="."]
position = Vector2(554, 401)
script = ExtResource("1_ejswk")

[node name="Health" type="Node" parent="EnemyTest"]
script = ExtResource("2_ru4tf")
max_health = 5
metadata/_custom_type_script = "uid://cgeyfxu6i0b7u"

[node name="HurtBox" type="Area2D" parent="EnemyTest" node_paths=PackedStringArray("health")]
collision_layer = 0
script = ExtResource("3_bbk5w")
health = NodePath("../Health")
metadata/_custom_type_script = "uid://m72no1svtvu"

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemyTest/HurtBox"]
shape = SubResource("RectangleShape2D_ru4tf")

[node name="Sprite2D" type="Sprite2D" parent="EnemyTest"]
scale = Vector2(0.464948, 0.464948)
texture = ExtResource("4_dwgg1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemyTest"]
position = Vector2(-9.53674e-07, -9.53674e-07)
scale = Vector2(0.464948, 0.464948)
shape = SubResource("RectangleShape2D_ru4tf")

[node name="TileMapLayer" type="TileMapLayer" parent="." groups=["navigation"]]
visible = false
position = Vector2(-113, -111)
tile_map_data = PackedByteArray("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")
enabled = false
tile_set = SubResource("TileSet_m7ahb")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_wwpf4")
enabled = false

[node name="Player2" parent="." instance=ExtResource("2_wwpf4")]
position = Vector2(142, 344)

[node name="Parallax" parent="." instance=ExtResource("3_m7ahb")]

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(23164.5, 451)
shape = SubResource("RectangleShape2D_m7ahb")

[connection signal="health_depleted" from="EnemyTest/Health" to="EnemyTest" method="_on_health_health_depleted"]
